<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Echan Hardinata • Tech Blog & Projects</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<header class="nav">
    <h1>⚡ Echan Hardinata</h1>
    <nav>
        <a href="index.html">Home</a>
        <a href="#projects">Projects</a>
        <a href="#articles">Articles</a>
    </nav>
</header>

<section class="hero">
    <h2>Welcome to My Tech Blog</h2>
    <p>Arduino • Electronics • Programming • IoT • Tutorials</p>
</section>

<h2 class="section-title" id="articles">Latest Articles</h2>

<div class="card-container">

    <a class="card" href="article.html?id=arduino-ultrasonic">
        <img src="img/thumbnail1.jpg">
        <h3>Arduino Ultrasonic: Cara Kerja & Contoh Project</h3>
        <p>Belajar membuat sensor jarak otomatis dengan HC-SR04.</p>
    </a>

    <a class="card" href="article.html?id=rfid-mfrc522">
        <img src="img/thumbnail2.jpg">
        <h3>RFID MFRC522: Menambah Fitur Magic Card</h3>
        <p>Tutorial lengkap cloning, dump, dan write sektor.</p>
    </a>

</div>

<h2 class="section-title" id="projects">Featured Projects</h2>

<div class="card-container">

    <a class="card" href="article.html?id=automatic-irrigation">
        <img src="img/thumbnail3.jpg">
        <h3>Automatic Watering System</h3>
        <p>Proyek IoT penyiraman & pemupukan otomatis.</p>
    </a>

    <a class="card" href="article.html?id=nfc-pn532">
        <img src="img/thumbnail4.jpg">
        <h3>Simulasi NFC PN532</h3>
        <p>Simulasi kartu, SID, dump, dan cloning.</p>
    </a>

</div>

<footer>
    © 2025 • Echan Hardinata
</footer>
<script>
async function loadList(){
  const res = await fetch('/api/articles');
  const arr = await res.json();
  const container = document.querySelector('.card-container');
  container.innerHTML = '';
  arr.forEach(a => {
    const el = document.createElement('a');
    el.className = 'card';
    el.href = `article.html?id=${a.id}`;
    el.innerHTML = `
      <img src="${a.thumbnail || 'img/placeholder.jpg'}">
      <h3>${a.title}</h3>
      <p>${(a.content||'').replace(/<[^>]*>?/gm,'').slice(0,120)}...</p>
    `;
    container.appendChild(el);
  });
}
loadList();
</script>

<script src="script.js"></script>
</body>
</html>
